(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{57:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(21),s=r.n(n),i=r(60),l=(r(44),r(12)),j=r(8),u=r(9),o=r(34),d=(r(45),o.a.initializeApp({apiKey:"AIzaSyDzm9jwHEaobfn0cjau76AlUiCZ3KRcpos",authDomain:"learning-eb209.firebaseapp.com",projectId:"learning-eb209",storageBucket:"learning-eb209.appspot.com",messagingSenderId:"403686430661",appId:"1:403686430661:web:bc2e0f4ab25a21f6455dac",measurementId:"G-LZ5PD2EYHQ"})),b=d.auth(),p=r(1),O=c.a.createContext(),h=function(){return Object(a.useContext)(O)};function x(e){var t=e.children,r=Object(a.useState)({}),c=Object(u.a)(r,2),n=c[0],s=c[1],i=Object(a.useState)(!0),l=Object(u.a)(i,2),j=l[0],o=l[1];Object(a.useEffect)((function(){return b.onAuthStateChanged((function(e){s(e),o(!1)}))}),[]);var d={currentUser:n,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},login:function(e,t){return b.signInWithEmailAndPassword(e,t)},passwordReset:function(e){return b.sendPasswordResetEmail(e)},logout:function(){return b.signOut()},updateProfile:function(e,t){return b.currentUser.updateProfile({displayName:e,photoURL:t})},updateEmail:function(e){return b.currentUser.updateEmail(e)},updatePassword:function(e){return b.currentUser.updatePassword(e)}};return Object(p.jsx)(O.Provider,{value:d,children:!j&&t})}var m=r(25),f=r(35),v=["component"];function g(e){var t=e.component,r=Object(f.a)(e,v),a=h().currentUser;return Object(p.jsx)(j.b,Object(m.a)(Object(m.a)({},r),{},{render:function(e){return a?Object(p.jsx)(t,Object(m.a)({},e)):Object(p.jsx)(j.a,{to:"/login"})}}))}var w=r(14),y=r.n(w),N=r(20),S=r(63),P=r(61),L=r(59);function R(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),r=t[0],c=t[1],n=Object(j.g)(),s=h(),i=s.currentUser,o=s.logout,d=function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:n.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(p.jsxs)(S.a,{children:[Object(p.jsx)(S.a.Img,{variant:"top",src:i.photoURL?i.photoURL:"https://via.placeholder.com/350x200?text=add+your+image+:)",alt:"profile image"}),Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)(S.a.Title,{className:"text-center",children:i.displayName?i.displayName:"undefined username"}),r&&Object(p.jsx)(P.a,{variant:"danger",children:r}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Email:"})," ",i.email]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"verified:"})," ",i.verifiedEmail?"Yes":"No"]}),Object(p.jsx)(l.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})]}),Object(p.jsx)("div",{className:"w-100 text-center mt-2",children:Object(p.jsx)(L.a,{onClick:d,variant:"link",children:"Log out"})})]})}var E=r(62);function U(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useRef)(),n=Object(a.useRef)(),s=Object(a.useState)(""),i=Object(u.a)(s,2),o=i[0],d=i[1],b=Object(a.useState)(!1),O=Object(u.a)(b,2),x=O[0],m=O[1],f=h(),v=f.updateProfile,g=f.updateEmail,w=f.updatePassword,R=f.currentUser,U=Object(j.g)(),C=function(){var a=Object(N.a)(y.a.mark((function a(s){var i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s.preventDefault(),m(!0),i=[],e.current.value!==R.email&&i.push(g(e.current.value)),t.current.value&&r.current.value===t.current.value&&i.push(w(t.current.value)),(c.current.value&&c.current.value!==R.displayName||n.current.value)&&i.push(v(c.current.value,n.current.value)),Promise.all(i).then((function(){U.push("/")})).catch((function(e){d(e.message)})).finally((function(){m(!1)}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h1",{className:"text-center mb-4",children:"Update Profile"}),o&&Object(p.jsx)(P.a,{variant:"danger",children:o}),Object(p.jsxs)(E.a,{onSubmit:C,children:[Object(p.jsxs)(E.a.Group,{id:"Email",children:[Object(p.jsx)(E.a.Label,{children:"Email"}),Object(p.jsx)(E.a.Control,{type:"email",ref:e,defaultValue:R.email,required:!0})]}),Object(p.jsxs)(E.a.Group,{id:"displayName",children:[Object(p.jsx)(E.a.Label,{children:"Display Name"}),Object(p.jsx)(E.a.Control,{type:"text",ref:c,defaultValue:R.displayName,placeholder:"user name"})]}),Object(p.jsxs)(E.a.Group,{id:"photoUrl",children:[Object(p.jsx)(E.a.Label,{children:"Photo URL"}),Object(p.jsx)(E.a.Control,{type:"url",ref:n,defaultValue:R.photoURL,placeholder:"image URL for profile"})]}),Object(p.jsxs)(E.a.Group,{id:"password",children:[Object(p.jsx)(E.a.Label,{children:"Password"}),Object(p.jsx)(E.a.Control,{type:"text",ref:t,placeholder:"ignore if you don't want to change password"})]}),Object(p.jsxs)(E.a.Group,{id:"password-confirm",children:[Object(p.jsx)(E.a.Label,{children:"Password Confirmation"}),Object(p.jsx)(E.a.Control,{type:"text",ref:r,placeholder:"ignore if you don't want to change password"})]}),Object(p.jsx)("div",{className:"d-flex align-items-center justify-content-around mt-4",children:Object(p.jsx)(L.a,{disabled:x,className:"w-40",type:"submit",children:"update"})})]})]})}),Object(p.jsx)("p",{className:"w-100 text-center mt-2",children:Object(p.jsx)(l.b,{to:"/",children:"cancel"})})]})})}var C=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(a.useState)(""),n=Object(u.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(""),d=Object(u.a)(o,2),b=d[0],O=d[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),f=m[0],v=m[1],g=h().signup,w=Object(j.g)();function R(){return(R=Object(N.a)(y.a.mark((function a(c){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),t.current.value===r.current.value){a.next=4;break}return O(""),a.abrupt("return",i("Password do not match"));case 4:return a.prev=4,v(!0),a.next=8,g(e.current.value,t.current.value);case 8:i(""),O("account created successfully!"),v(!1),w.push("/"),a.next=19;break;case 14:return a.prev=14,a.t0=a.catch(4),v(!1),O(""),a.abrupt("return",i(a.t0.message));case 19:case"end":return a.stop()}}),a,null,[[4,14]])})))).apply(this,arguments)}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h1",{className:"text-center mb-4",children:"Sign Up"}),s&&Object(p.jsx)(P.a,{variant:"danger",children:s}),b&&Object(p.jsx)(P.a,{variant:"success",children:b}),Object(p.jsxs)(E.a,{onSubmit:function(e){return R.apply(this,arguments)},children:[Object(p.jsxs)(E.a.Group,{id:"Email",children:[Object(p.jsx)(E.a.Label,{children:"Email"}),Object(p.jsx)(E.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(E.a.Group,{id:"password",children:[Object(p.jsx)(E.a.Label,{children:"Password"}),Object(p.jsx)(E.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsxs)(E.a.Group,{id:"password-confirm",children:[Object(p.jsx)(E.a.Label,{children:"Password Confirmation"}),Object(p.jsx)(E.a.Control,{type:"password",ref:r,required:!0})]}),Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(L.a,{disabled:f,className:"w-20 m-auto mt-2",type:"submit",children:"sign up"})})]})]})}),Object(p.jsxs)("p",{className:"w-100 text-center mt-2",children:["Already have an account?",Object(p.jsx)(l.b,{to:"/login",children:"Log in"})]})]})})},k=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useState)(""),c=Object(u.a)(r,2),n=c[0],s=c[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),d=o[0],b=o[1],O=Object(a.useState)(!1),x=Object(u.a)(O,2),m=x[0],f=x[1],v=h().login,g=Object(j.g)();function w(){return(w=Object(N.a)(y.a.mark((function r(a){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),r.prev=1,f(!0),r.next=5,v(e.current.value,t.current.value);case 5:s(""),b("logged in successfully!"),f(!1),g.push("/"),r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(1),f(!1),b(""),r.abrupt("return",s(r.t0.message));case 16:case"end":return r.stop()}}),r,null,[[1,11]])})))).apply(this,arguments)}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h1",{className:"text-center mb-4",children:"Log in"}),n&&Object(p.jsx)(P.a,{variant:"danger",children:n}),d&&Object(p.jsx)(P.a,{variant:"success",children:d}),Object(p.jsxs)(E.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(p.jsxs)(E.a.Group,{id:"Email",children:[Object(p.jsx)(E.a.Label,{children:"Email"}),Object(p.jsx)(E.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)(E.a.Group,{id:"password",children:[Object(p.jsx)(E.a.Label,{children:"Password"}),Object(p.jsx)(E.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-around mt-4",children:[Object(p.jsx)(L.a,{disabled:m,className:"w-40",type:"submit",children:"log in"}),Object(p.jsx)(l.b,{to:"forgot-password",children:"Forgot Password?"})]})]})]})}),Object(p.jsxs)("p",{className:"w-100 text-center mt-2",children:["New here?",Object(p.jsx)(l.b,{to:"/signup",children:"Sign up"})]})]})})},G=function(){var e=Object(a.useRef)(),t=Object(a.useState)(""),r=Object(u.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(""),i=Object(u.a)(s,2),j=i[0],o=i[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),O=b[0],x=b[1],m=h().passwordReset;function f(){return(f=Object(N.a)(y.a.mark((function t(r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,x(!0),t.next=5,m(e.current.value);case 5:n(""),o("Password reset instructions has been sent to you inbox!"),x(!1),t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(1),x(!1),o(""),t.abrupt("return",n(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h1",{className:"text-center mb-4",children:"Log in"}),c&&Object(p.jsx)(P.a,{variant:"danger",children:c}),j&&Object(p.jsx)(P.a,{variant:"success",children:j}),Object(p.jsxs)(E.a,{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(p.jsxs)(E.a.Group,{id:"Email",children:[Object(p.jsx)(E.a.Label,{children:"Email"}),Object(p.jsx)(E.a.Control,{type:"email",ref:e,required:!0})]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-around mt-4",children:[Object(p.jsx)(L.a,{disabled:O,className:"w-40",type:"submit",children:"Password Reset"}),Object(p.jsx)(l.b,{to:"/login",children:"login"})]})]})]})}),Object(p.jsxs)("p",{className:"w-100 text-center mt-2",children:["New here?",Object(p.jsx)(l.b,{to:"/signup",children:"Sign up"})]})]})})};var D=function(){return Object(p.jsx)(i.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(p.jsx)(l.a,{children:Object(p.jsx)(x,{children:Object(p.jsxs)(j.d,{children:[Object(p.jsx)(g,{exact:!0,path:"/",component:R}),Object(p.jsx)(g,{path:"/update-profile",component:U}),Object(p.jsx)(j.b,{path:"/signup",component:C}),Object(p.jsx)(j.b,{path:"/login",component:k}),Object(p.jsx)(j.b,{path:"/forgot-password",component:G})]})})})})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.e3f6e534.chunk.js.map